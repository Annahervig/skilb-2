enum ActionKind {
    Walking,
    Idle,
    Jumping
}
namespace SpriteKind {
    export const Port = SpriteKind.create()
    export const sne = SpriteKind.create()
}
function snowing () {
    snowFlake = sprites.create(img`
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................9...............................
        ..............................9...............................
        ............................9.9.9.............................
        .............................999..............................
        ..............................9...............................
        ..............................9...............................
        ..........................9...9...9...........................
        ...........................9..9..9............................
        .......................9....9.9.9....9........................
        ........................9....999....9.........................
        .....................9999999999999999999......................
        ........................9....999....9.........................
        .......................9....9.9.9....9........................
        ...........................9..9..9............................
        ..........................9...9...9...........................
        ..............................9...............................
        .............................999..............................
        ............................9.9.9.............................
        ..............................9...............................
        ..............................9...............................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        `, SpriteKind.sne)
    snowFlake.x = scene.screenHeight()
    snowFlake.setVelocity(randint(-200, 100), randint(-100, -20))
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Port, function (sprite, otherSprite) {
    pause(500)
    sprites.destroy(BlÃ¥)
    sprites.destroy(Orange)
    info.changeLifeBy(-1)
    console.log(info.life())
    sprite.startEffect(effects.rings, 500)
    resetSpeeds()
    scene.cameraShake(4, 200)
    effects.blizzard.startScreenEffect(100)
})
function runningKids () {
    kids = sprites.create(img`
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ...........................555................................
        ..........................55555...............................
        .........................5555555..............................
        .........................5555555..............................
        .........................5ddddd5..............................
        ..........................ddddd...............................
        ..........................ddddd...............................
        ...........................ddd................................
        ..........................66666...............................
        ..........................66666...............................
        .....................6666666666...............................
        .....................7....66666...............................
        ......................776666666...............................
        ........................7.66666...............................
        .........................766666...............................
        ..........................76666...............................
        ..........................47444...............................
        ..........................44444...............................
        ..........................44.44...............................
        ..........................44.44...............................
        ..........................44.44...............................
        ..........................44.44...............................
        ..........................44.44...............................
        ..........................44.44...............................
        .....................ffffffff44f..............................
        .............................44...............................
        ........................ffffffffff............................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        ..............................................................
        `, SpriteKind.Enemy)
    kids.setKind(SpriteKind.Enemy)
    kids.y = scene.screenHeight()
    kids.setVelocity(randint(-100, 100), randint(-100, -20))
    if (0 > kids.vx) {
        kids.setImage(img`
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            .......................3333...................................
            ......................333333..................................
            ......................333333..................................
            ......................ddde33..................................
            ......................dddee...................................
            .......................dddee..................................
            ........................aaee..................................
            ...................9....aaa...................................
            ....................aaaaaaa...................................
            ....................99..aaa...................................
            .....................aaaaaa...................................
            .....................9.9aaa...................................
            ........................ccc...................................
            ......................9.ccc...................................
            .......................9ccc...................................
            ........................ccc...................................
            ........................ccc...................................
            ........................ccc...................................
            ..................4444444cc444................................
            .........................cc...................................
            ...................444444444444...............................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            ..............................................................
            `)
    }
}
info.onLifeZero(function () {
    game.showLongText("You went" + Math.round(distance) + "meter", DialogLayout.Center)
    game.gameOver(false)
})
function resetSpeeds () {
    sprite_list = sprites.allOfKind(SpriteKind.Port)
    for (let value2 of sprite_list) {
        value2.setVelocity(0, Speed)
    }
}
let sprite_list: Sprite[] = []
let kids: Sprite = null
let Orange: Sprite = null
let BlÃ¥: Sprite = null
let snowFlake: Sprite = null
let distance = 0
let Speed = 0
scene.setBackgroundColor(1)
let Skier = sprites.create(img`
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88222288...........................
    ...........................82222228...........................
    ...............f...........22222222...........f...............
    ................f....77777222222222277777....f................
    .................f...77777222222222277777...f.................
    ..................f..77...2222222222...77..f..................
    ...................f.77...2222222222...77.f...................
    ....................f77....22222222....77f....................
    .....................77....82222228....77.....................
    .......................f...88222288...f.......................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ...........................88....88...........................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    ..............................................................
    `, SpriteKind.Player)
Skier.setStayInScreen(true)
Skier.x = 100
Skier.setPosition(77, 30)
Speed = -20
controller.moveSprite(Skier)
distance = 0
info.setLife(3)
let liv = 12
let isSnowing = true
let snowAmount = 50
animation.setAction(Skier, ActionKind.Walking)
runningKids()
snowing()
forever(function () {
    if (true) {
        Orange = sprites.createProjectileFromSide(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ........f............f..........
            ........f............f..........
            ........f444444444444f..........
            ........f444444444444f..........
            ........f444444444444f..........
            ........f444444444444f..........
            ........f............f..........
            ........f............f..........
            ........f............f..........
            ........f............f..........
            ........f............f..........
            ........f............f..........
            ........f............f..........
            ........f............f..........
            ........f............f..........
            ........f............f..........
            ........f............f..........
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, 0, Speed)
        Orange.x = randint(0, scene.screenWidth())
        Orange.setKind(SpriteKind.Port)
    }
    if (true) {
        BlÃ¥ = sprites.createProjectileFromSide(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            .........f............f.........
            .........f............f.........
            .........f999999999999f.........
            .........f999999999999f.........
            .........f999999999999f.........
            .........f999999999999f.........
            .........f............f.........
            .........f............f.........
            .........f............f.........
            .........f............f.........
            .........f............f.........
            .........f............f.........
            .........f............f.........
            .........f............f.........
            .........f............f.........
            .........f............f.........
            .........f............f.........
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, 0, Speed)
        BlÃ¥.x = randint(0, scene.screenWidth())
        BlÃ¥.setKind(SpriteKind.Port)
    }
    pause(2500)
})
forever(function () {
    runningKids()
    pause(5000)
})
forever(function () {
    snowing()
    pause(200)
})
forever(function () {
    pause(100)
    distance += Speed * -0.05
})
forever(function () {
    if (distance == 50) {
        Speed += -5
    }
})
